## MoveIt2

### Introduction to MoveIt2

MoveIt2 is an integrated development platform in ROS2, consisting of a variety of function packages for manipulating robotic arms, including: motion planning, manipulation, control, inverse kinematics, 3D perception, and collision detection.

### Core functions

1. **Motion Planning**
MoveIt 2 provides motion planning capabilities based on OMPL (Open Motion Planning Library) and other third-party libraries, supporting a variety of planning algorithms and constraints.

2. **Inverse Kinematics (IK)**
MoveIt 2 uses a plug-in mechanism to support different IK solvers, which can quickly calculate the target pose of the robotic arm.

3. **Collision Detection & Avoidance**
MoveIt 2 has built-in powerful collision detection capabilities to ensure that the robot does not collide with the surrounding environment when planning and executing movements.

4. **Dynamic Scene Awareness**
MoveIt 2 supports dynamic updates of the environment model and can sense changes in obstacles in real time.

5. **Control & Execution**
MoveIt 2 provides a motion control interface that is tightly integrated with the robot hardware to ensure that the planned path can be accurately executed.

6. **Visualization Tools**
Integrated with RViz 2, it supports intuitive interaction and debugging functions, and can display the motion planning and execution process in real time.

### Advantages of MoveIt 2

- **Real-time support based on ROS 2**
The DDS communication architecture of ROS 2 enables MoveIt 2, which has significantly improved real-time performance and reliability.

- **Modular design**
MoveIt 2 adopts a modular architecture, which supports users to load or replace modules as needed, providing great flexibility.

- **Cross-platform support**
MoveIt 2 supports running on multiple operating systems (such as Ubuntu, Windows) and hardware platforms.

- **Active Community Support**
MoveIt 2 has a global developer community that continuously provides updates, feature extensions, and technical support.

### Configuration

1. URDF - Universal Robot Description Format.

2. SRDF - includes the robot's joint groups, virtual and passive joints, robot poses, self-collisions, and is usually created by the user using the MoveIt2 Setup Assistant.

3. MoveIt2 Configuration - includes joint limits, kinematics, motion planning, perception, and other information. Configuration files for these components are automatically generated by the MoveIt2 Setup Assistant ([MoveIt2 Configuration Assistant](https://moveit.picknik.ai/main/doc/examples/setup_assistant/setup_assistant_tutorial.html)) and stored in the configuration directory of the robot's corresponding MoveIt2 configuration package.

## How to use MoveIt2

>>**Note:** For better motion planning, the Atom firmware version of the end-arm is 6.5, and the python driver library pymycobot version is 3.5.3

`mycobot_ros2` has now integrated the MoveIt2 part.

Open the command line and run:
  
```bash
ros2 lanuch mycobot_280_moveit2 demo.launch.py
```

The operation effect is as follows:

<img src =../../../../../resources/3-FunctionsAndApplications/6.developmentGuide/ROS/ROS2/moveit2/moveit2_rviz2.png
width ="500"  align = "center">

If you need to let the real robot arm execute the plan synchronously, you need to open another command line and run:
  
```bash
ros2 run mycobot_280_moveit2_control sync_plan
```

Case demonstration:

<video id="my-video" class="video-js" controls preload="auto" width="100%"
poster="" data-setup='{"aspectRatio":"16:9"}'>
  <source src="../../../../../resources/3-FunctionsAndApplications/6.developmentGuide/ROS/ROS2/moveit2/280_ROS2_Moveit2_Case_Demo.mp4" type='video/mp4' >
</video>
